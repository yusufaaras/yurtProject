{"ast":null,"code":"import React,{useState,useEffect,createContext,useContext}from'react';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import Login from'./components/Login';import Navbar from'./components/Navbar';import Dashboard from'./components/Dashboard';import Students from'./components/Students';import Rooms from'./components/Rooms';import Payments from'./components/Payments';import Outpass from'./components/Outpass';import Visitors from'./components/Visitors';import Maintenance from'./components/Maintenance';import Emergency from'./components/Emergency';import'./App.css';// Create Theme Context\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ThemeContext=/*#__PURE__*/createContext();// Custom hook to use theme\nexport const useTheme=()=>useContext(ThemeContext);function App(){const[isAuthenticated,setIsAuthenticated]=useState(false);const[userType,setUserType]=useState('student');const[theme,setTheme]=useState('light');const[showLogoutModal,setShowLogoutModal]=useState(false);useEffect(()=>{// Check if user is already logged in\nconst authStatus=localStorage.getItem('isAuthenticated');const savedUserType=localStorage.getItem('userType');const savedTheme=localStorage.getItem('theme');if(authStatus==='true'){setIsAuthenticated(true);setUserType(savedUserType||'student');}if(savedTheme){setTheme(savedTheme);}},[]);// Apply theme to document\nuseEffect(()=>{document.documentElement.setAttribute('data-theme',theme);localStorage.setItem('theme',theme);},[theme]);const toggleTheme=()=>{setTheme(prevTheme=>prevTheme==='light'?'dark':'light');};const handleLogoutClick=()=>{setShowLogoutModal(true);};const handleLogoutConfirm=()=>{localStorage.removeItem('isAuthenticated');localStorage.removeItem('userType');localStorage.removeItem('userEmail');setIsAuthenticated(false);setUserType('student');setShowLogoutModal(false);};const handleLogoutCancel=()=>{setShowLogoutModal(false);};const themeValue={theme,toggleTheme};if(!isAuthenticated){return/*#__PURE__*/_jsx(ThemeContext.Provider,{value:themeValue,children:/*#__PURE__*/_jsx(Login,{setIsAuthenticated:setIsAuthenticated,setUserType:setUserType})});}return/*#__PURE__*/_jsx(ThemeContext.Provider,{value:themeValue,children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{userType:userType,onLogout:handleLogoutClick}),/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Dashboard,{userType:userType})}),/*#__PURE__*/_jsx(Route,{path:\"/students\",element:/*#__PURE__*/_jsx(Students,{userType:userType})}),/*#__PURE__*/_jsx(Route,{path:\"/rooms\",element:/*#__PURE__*/_jsx(Rooms,{userType:userType})}),/*#__PURE__*/_jsx(Route,{path:\"/payments\",element:/*#__PURE__*/_jsx(Payments,{userType:userType})}),/*#__PURE__*/_jsx(Route,{path:\"/outpass\",element:/*#__PURE__*/_jsx(Outpass,{userType:userType})}),/*#__PURE__*/_jsx(Route,{path:\"/visitors\",element:/*#__PURE__*/_jsx(Visitors,{userType:userType})}),/*#__PURE__*/_jsx(Route,{path:\"/maintenance\",element:/*#__PURE__*/_jsx(Maintenance,{userType:userType})}),/*#__PURE__*/_jsx(Route,{path:\"/emergency\",element:/*#__PURE__*/_jsx(Emergency,{userType:userType})})]})}),showLogoutModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal logout-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",style:{maxWidth:'400px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsxs(\"h2\",{style:{display:'flex',alignItems:'center',justifyContent:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDEAA\"}),\"Confirm Logout\"]})}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'3rem',marginBottom:'1rem'},children:\"\\uD83E\\uDD14\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.125rem',color:'var(--text-primary)',marginBottom:'1rem',fontWeight:'500'},children:\"Are you sure you want to logout?\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'var(--text-secondary)',fontSize:'0.875rem',marginBottom:'2rem'},children:\"You will need to sign in again to access your account.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',justifyContent:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-secondary\",onClick:handleLogoutCancel,style:{padding:'0.75rem 2rem',minWidth:'120px'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u274C\"}),\"Cancel\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-danger\",onClick:handleLogoutConfirm,style:{padding:'0.75rem 2rem',minWidth:'120px'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2705\"}),\"Yes, Logout\"]})]})]})]})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","createContext","useContext","BrowserRouter","Router","Routes","Route","Login","Navbar","Dashboard","Students","Rooms","Payments","Outpass","Visitors","Maintenance","Emergency","jsx","_jsx","jsxs","_jsxs","ThemeContext","useTheme","App","isAuthenticated","setIsAuthenticated","userType","setUserType","theme","setTheme","showLogoutModal","setShowLogoutModal","authStatus","localStorage","getItem","savedUserType","savedTheme","document","documentElement","setAttribute","setItem","toggleTheme","prevTheme","handleLogoutClick","handleLogoutConfirm","removeItem","handleLogoutCancel","themeValue","Provider","value","children","className","onLogout","path","element","style","maxWidth","textAlign","display","alignItems","justifyContent","gap","padding","fontSize","marginBottom","color","fontWeight","flexWrap","onClick","minWidth"],"sources":["/Users/aliunnab/Downloads/Hostel-management-system-main/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, createContext, useContext } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport Login from './components/Login';\nimport Navbar from './components/Navbar';\nimport Dashboard from './components/Dashboard';\nimport Students from './components/Students';\nimport Rooms from './components/Rooms';\nimport Payments from './components/Payments';\nimport Outpass from './components/Outpass';\nimport Visitors from './components/Visitors';\nimport Maintenance from './components/Maintenance';\nimport Emergency from './components/Emergency';\nimport './App.css';\n\n// Create Theme Context\nconst ThemeContext = createContext();\n\n// Custom hook to use theme\nexport const useTheme = () => useContext(ThemeContext);\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [userType, setUserType] = useState('student');\n  const [theme, setTheme] = useState('light');\n  const [showLogoutModal, setShowLogoutModal] = useState(false);\n\n  useEffect(() => {\n    // Check if user is already logged in\n    const authStatus = localStorage.getItem('isAuthenticated');\n    const savedUserType = localStorage.getItem('userType');\n    const savedTheme = localStorage.getItem('theme');\n    \n    if (authStatus === 'true') {\n      setIsAuthenticated(true);\n      setUserType(savedUserType || 'student');\n    }\n    \n    if (savedTheme) {\n      setTheme(savedTheme);\n    }\n  }, []);\n\n  // Apply theme to document\n  useEffect(() => {\n    document.documentElement.setAttribute('data-theme', theme);\n    localStorage.setItem('theme', theme);\n  }, [theme]);\n\n  const toggleTheme = () => {\n    setTheme(prevTheme => prevTheme === 'light' ? 'dark' : 'light');\n  };\n\n  const handleLogoutClick = () => {\n    setShowLogoutModal(true);\n  };\n\n  const handleLogoutConfirm = () => {\n    localStorage.removeItem('isAuthenticated');\n    localStorage.removeItem('userType');\n    localStorage.removeItem('userEmail');\n    setIsAuthenticated(false);\n    setUserType('student');\n    setShowLogoutModal(false);\n  };\n\n  const handleLogoutCancel = () => {\n    setShowLogoutModal(false);\n  };\n\n  const themeValue = {\n    theme,\n    toggleTheme\n  };\n\n  if (!isAuthenticated) {\n    return (\n      <ThemeContext.Provider value={themeValue}>\n        <Login setIsAuthenticated={setIsAuthenticated} setUserType={setUserType} />\n      </ThemeContext.Provider>\n    );\n  }\n\n  return (\n    <ThemeContext.Provider value={themeValue}>\n      <Router>\n        <div className=\"App\">\n          <Navbar userType={userType} onLogout={handleLogoutClick} />\n          <div className=\"main-content\">\n            <Routes>\n              <Route path=\"/\" element={<Dashboard userType={userType} />} />\n              <Route path=\"/students\" element={<Students userType={userType} />} />\n              <Route path=\"/rooms\" element={<Rooms userType={userType} />} />\n              <Route path=\"/payments\" element={<Payments userType={userType} />} />\n              <Route path=\"/outpass\" element={<Outpass userType={userType} />} />\n              <Route path=\"/visitors\" element={<Visitors userType={userType} />} />\n              <Route path=\"/maintenance\" element={<Maintenance userType={userType} />} />\n              <Route path=\"/emergency\" element={<Emergency userType={userType} />} />\n            </Routes>\n          </div>\n\n          {/* Logout Confirmation Modal */}\n          {showLogoutModal && (\n            <div className=\"modal logout-modal\">\n              <div className=\"modal-content\" style={{ maxWidth: '400px', textAlign: 'center' }}>\n                <div className=\"modal-header\">\n                  <h2 style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem' }}>\n                    <span>üö™</span>\n                    Confirm Logout\n                  </h2>\n                </div>\n                <div style={{ padding: '2rem' }}>\n                  <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>ü§î</div>\n                  <p style={{ \n                    fontSize: '1.125rem', \n                    color: 'var(--text-primary)', \n                    marginBottom: '1rem',\n                    fontWeight: '500'\n                  }}>\n                    Are you sure you want to logout?\n                  </p>\n                  <p style={{ \n                    color: 'var(--text-secondary)', \n                    fontSize: '0.875rem',\n                    marginBottom: '2rem'\n                  }}>\n                    You will need to sign in again to access your account.\n                  </p>\n                  \n                  <div style={{ \n                    display: 'flex', \n                    gap: '1rem', \n                    justifyContent: 'center',\n                    flexWrap: 'wrap'\n                  }}>\n                    <button \n                      className=\"btn btn-secondary\" \n                      onClick={handleLogoutCancel}\n                      style={{ \n                        padding: '0.75rem 2rem',\n                        minWidth: '120px'\n                      }}\n                    >\n                      <span>‚ùå</span>\n                      Cancel\n                    </button>\n                    <button \n                      className=\"btn btn-danger\" \n                      onClick={handleLogoutConfirm}\n                      style={{ \n                        padding: '0.75rem 2rem',\n                        minWidth: '120px'\n                      }}\n                    >\n                      <span>‚úÖ</span>\n                      Yes, Logout\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </Router>\n    </ThemeContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}